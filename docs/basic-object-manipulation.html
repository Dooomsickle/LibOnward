<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-03-19T20:46:14.0662979"><title>Basic Object Manipulation | Onward-Docs</title><script type="application/json" id="virtual-toc-data">[{"id":"transforms","level":0,"title":"Transforms","anchor":"#transforms"},{"id":"instantiation-local","level":0,"title":"Instantiation (local)","anchor":"#instantiation-local"},{"id":"getting-components-of-objects","level":0,"title":"Getting Components of Objects","anchor":"#getting-components-of-objects"},{"id":"getting-inactive-gameobjects","level":0,"title":"Getting Inactive GameObjects","anchor":"#getting-inactive-gameobjects"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b224/app.css" rel="stylesheet"><link rel="manifest" href="site.webmanifest"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Basic Object Manipulation | Onward-Docs"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Onward-Docs Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/69/1/basic-object-manipulation.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Basic Object Manipulation | Onward-Docs"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/69/1/basic-object-manipulation.html#webpage",
    "url": "writerside-documentation/69/1/basic-object-manipulation.html",
    "name": "Basic Object Manipulation | Onward-Docs",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/69/#website",
    "url": "writerside-documentation/69/",
    "name": "Onward-Docs Help"
}</script><!-- End Schema.org --></head><body data-id="Basic-Object-Manipulation" data-main-title="Basic Object Manipulation" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs=""><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Onward-Docs 1 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Basic-Object-Manipulation" id="Basic-Object-Manipulation.md">Basic Object Manipulation</h1><p id="i80pmef_2584">A lot of modding in Onward involves cloning objects and placing them where you want. Could be guns, defibrillators, actual objects in the scene itself, it doesn't matter.</p><p id="i80pmef_2585">Unity makes this a fairly streamlined process, but there are a few things you should know before messing with a lot of it.</p><section class="chapter"><h2 id="transforms" data-toc="transforms">Transforms</h2><p id="i80pmef_2586">Transforms are somewhat the &quot;core&quot; of Unity, and in-turn every single GameObject has one. They describe an objects position, rotation, and scale. Position and scale are represented by <code class="code" id="i80pmef_2587">Vector3</code> objects, while rotation is represented by a <code class="code" id="i80pmef_2588">Quaternion</code>; a much more complicated data type.</p><p id="i80pmef_2589">There are multiple ways to set these properties:</p><div class="code-block" data-lang="csharp">
var gameObject = GameObject.Find(&quot;some/object/idk&quot;);
gameObject.transform.position = new Vector3(5, 0, 0); // set its position to coords X: 5, Y: 0, Z: 0
gameObject.transform.position.y = 20f; // self explanatory
</div><p id="i80pmef_2591">When GameObjects have a parent, you must use <code class="code" id="i80pmef_2592">localPosition</code> to move it. This changes where it is relative to its parent, and works basically the same way that regular position does. The same applies for rotation and scale as well.</p><div class="code-block" data-lang="csharp">
gameObject.transform.localPosition.x = 45f; // the 'f' at the end denotes a float
</div><section class="chapter"><h3 id="setting-rotation-simply" data-toc="setting-rotation-simply">Setting Rotation (simply)</h3><p id="i80pmef_2594">If you're a math major, quaternions might be easy enough. But most of us aren't. Let's be honest.</p><p id="i80pmef_2595">We can use x, y, and z values that we're probably a little more familiar with. To do this, you must use <code class="code" id="i80pmef_2596">Quaternion.Euler()</code>:</p><div class="code-block" data-lang="csharp">
gameObject.transform.rotation = Quaternion.Euler(45, 0, 130) // 45 yaw, 0 pitch, 130 roll
</div><p id="i80pmef_2598">The values also symbolize yaw, pitch, and roll if you're better with those terms.</p></section></section><section class="chapter"><h2 id="instantiation-local" data-toc="instantiation-local">Instantiation (local)</h2><p id="i80pmef_2599">It's pretty easy to clone objects in Unity games. You can simply use <code class="code" id="i80pmef_2600">Object.Instantiate()</code>:</p><div class="code-block" data-lang="csharp">
var TargetCloneObject = GameObject.Find(&quot;dildo prefab blehhhh&quot;);
var ClonedObject = Object.Instantiate(TargetCloneObject);
// set position, size, etc afterwards
</div><p id="i80pmef_2602">You can also specify a GameObject to parent it to after cloning:</p><div class="code-block" data-lang="csharp">
var ClonedObject_parented = Object.Instantiate(TargetCloneObject, GameObject.Find(&quot;ourParentObject&quot;)); // this will put the clone under the parent in the hierarchy
</div><p id="i80pmef_2604">This is not synchronized across the entire lobby; we'll cover that next.</p></section><section class="chapter"><h2 id="getting-components-of-objects" data-toc="getting-components-of-objects">Getting Components of Objects</h2><p id="i80pmef_2605">When opening the IL2CPP assemblies in DnSpy, you may find a great deal of classes deriving from MonoBehavior. These are Unity Components.</p><p id="i80pmef_2606">To get them, first get a reference to the object they're on:</p><div class="code-block" data-lang="csharp">
var targetObj = GameObject.Find(&quot;target&quot;);
</div><p id="i80pmef_2608">You can then call <code class="code" id="i80pmef_2609">GetComponent&lt;type&gt;()</code> to get what you're looking for.</p><div class="code-block" data-lang="csharp">
var gun = targetObj.GetComponent&lt;Pickup_Gun&gt;();
</div><p id="i80pmef_2611">Components work the same way as regular objects; fields and methods are accessed the same way.</p><section class="chapter"><h3 id="injecting-components" data-toc="injecting-components">Injecting Components</h3><p id="i80pmef_2612">You can define your own MonoBehavior components and inject them into the IL2CPP domain.</p><p id="i80pmef_2613">Il2CppInterop has a class named ClassInjector to assist with this.</p><div class="code-block" data-lang="csharp">
ClassInjector.RegisterTypeInIl2Cpp&lt;yourComponentType&gt;();
</div></section></section><section class="chapter"><h2 id="getting-inactive-gameobjects" data-toc="getting-inactive-gameobjects">Getting Inactive GameObjects</h2><p id="i80pmef_2615">Earlier we discussed how every GameObject has a transform component. We can use this to our advantage because GameObject.Find() only looks for active ones.</p><p id="i80pmef_2616">We can simply iterate through all transforms in the scene and select the one with the name we specify.</p><div class="code-block" data-lang="csharp">
string targetName = &quot;target&quot;;
var inactiveObj = Resources.FindObjectsOfTypeAll&lt;Transform&gt;()
                            .FirstOrDefault(transform =&gt; transform.name == targetName);
</div></section><div class="last-modified">Last modified: 20 March 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="events.html" class="navigation-links__prev">Events</a><a href="networking.html" class="navigation-links__next">Networking</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b224/app.js"></script></body></html>